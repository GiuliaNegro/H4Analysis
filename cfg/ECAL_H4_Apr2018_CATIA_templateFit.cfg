<h4reco>
outNameSuffix ntuples/ECAL_H4_Apr2018_templateFit_
path2data /eos/cms/store/group/dpg_ecal/comm_ecal/upgrade/testbeam/ECALTB_H4_Apr2018/data/raw/DataTree/
pluginList H4Hodo DigiReco WFReco
run 10467
maxEvents -1 
maxFiles -1 
</h4reco>


VFEs B1 B2 B3 B4 B5 \
     C5 C4 C3 C2 C1 \
     D1 D2 D3 D4 D5 \

digitizer MCP VFE_CLK TRG 


#--Hodoscope
<H4Hodo>
pluginType HodoReco
</H4Hodo>

#---Digi reconstruction
<DigiReco>
pluginType DigitizerReco
channelsNames= VFEs
channelsNames+= digitizer
</DigiReco>

#---WF reconstruction 
<WFReco>
pluginType WFAnalyzer
srcInstanceName DigiReco
channelsNames= DigiReco.channelsNames 
timeRecoTypes LED CFD CLK
fillWFtree 1
WFtreePrescale 1
</WFReco>


#---Channels
<C5>
digiBoard 5
digiGroup 0
digiChannel 4
polarity 1
nSamples 150
tUnit    6.25
baselineWin 1 10
baselineInt 15 25
signalWin 30 105 5 gaus
signalInt 2 3
LED 100 1 3
</C5>

<C4= C5>
digiChannel 3
</C4>

<C3= C5>
digiChannel 2
</C3>

<C2= C5>
digiChannel 1
</C2>

<C1= C5>
digiChannel 0
</C1>

<D1= C5>
digiBoard 7
digiChannel 4
</D1>

<D2= D1>
digiChannel 3
</D2>

<D3= D1>
digiChannel 2
<templateFit>   
file shapes/shape_tmpl_10467_50GeV_D3_TH1.root shape_tmpl_10467_50GeV_D3_hist
fitWin 0. 3 5 
</templateFit>
</D3>

<D4= D1>
digiChannel 1
</D4>

<D5= D1>
digiChannel 0
</D5>


<B1= C5>
digiBoard 4
digiChannel 4
</B1>

<B2= B1>
digiChannel 3
</B2>

<B3= B1>
digiChannel 2
</B3>

<B4= B1>
digiChannel 1
</B4>

<B5= B1>
digiChannel 0
</B5>


<MCP>
subtractChannel void
digiBoard 50397185
digiGroup 0
digiChannel 1  
polarity -1
nSamples 1024
tUnit 0.4
baselineWin 1 50
baselineInt 30 50
signalWin 50 1000 7 gaus
signalInt 10 10
CFD 0.5 5
</MCP>

<VFE_CLK= MCP>
digiChannel 0
type Clock
CFD
CLK -1.3 1.3
LED 0 2 2 200 300
</VFE_CLK>

<void= MCP>
subtractChannel 
digiChannel 7
</void>

<TRG= MCP>
digiChannel 8
LED 400 1 3  
</TRG>
